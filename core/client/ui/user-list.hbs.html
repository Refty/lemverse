<template name="userListEntry">
    {{> avatarViewer user=user showStatus=true}}
    <span class="js-profile">{{or user.profile.fullName user.profile.name}}</span>
    <span class="baseline" title="{{user.profile.baseline}}">{{user.profile.baseline}}</span>
    <div class="actions">{{#each module in modules}} {{> Template.dynamic template=module}} {{/each}}</div>
    <div class="infos">
        {{#if admin}}
        <span title="Is admin">ğŸ‘‘</span>
        {{else if levelOwner}}
        <span title="Is level owner">ğŸ—ºï¸</span>
        {{else if canEditUserPermissions}} {{#if canEditLevel}}
        <span class="js-toggle-edition" title="Edition allowed">ğŸ”¨</span>
        {{else}}
        <span class="js-toggle-edition denied" title="Click to allow edition">ğŸ”¨</span>
        {{/if}} {{else if canEditLevel}}
        <span title="Can edit level">ğŸ‘·</span>
        {{/if}} {{#if canModerateUser}}
        <span class="js-kick-user" title="Click to kick">ğŸ¦µ</span>
        {{/if}}
    </div>
</template>

<template name="userList">
    {{#modal id="displayUserList" title=title}}
    <div class="header">
        <h2 class="h2">Users</h2>
        <hr class="separator" />
    </div>

    <div class="user-list">
        <ul class="users">
            {{#if level}} {{#each user in users}}
            <li class="user">
                {{> userListEntry user=user level=level canEditUserPermissions=canEditUserPermissions
                canModerateLevel=canModerateLevel}}
            </li>
            {{/each}} {{/if}}
        </ul>
    </div>
    {{/modal}}
</template>
